/**
 * DevExtreme (esm/__internal/scheduler/view_model/generate_view_model/steps/virtual_screen_crop.test.js)
 * Version: 25.2.3
 * Build date: Fri Dec 12 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/
 */
import {
    describe,
    expect,
    it
} from "@jest/globals";
import {
    cropByVirtualScreen
} from "./virtual_screen_crop";
const options = {
    isVirtualScrolling: true,
    getVirtualScreen: () => ({
        left: 500,
        right: 1e3,
        top: 500,
        bottom: 1e3
    })
};
describe("cropByVirtualScreen", (() => {
    it("should do nothing for isVirtualScrolling=false", (() => {
        const entities = [1, 2, 3];
        expect(cropByVirtualScreen(entities, Object.assign({}, options, {
            isVirtualScrolling: false
        }))).toEqual(entities)
    }));
    it("should filter out items out of the bounds", (() => {
        expect(cropByVirtualScreen([{
            groupIndex: 0,
            left: 0,
            top: 0,
            width: 200,
            height: 200
        }, {
            groupIndex: 0,
            left: 0,
            top: 1e5,
            width: 200,
            height: 200
        }, {
            groupIndex: 0,
            left: 1e5,
            top: 0,
            width: 200,
            height: 200
        }, {
            groupIndex: 0,
            left: 1e5,
            top: 1e5,
            width: 200,
            height: 200
        }], options)).toEqual([])
    }));
    it("should crop items cross the bounds", (() => {
        expect(cropByVirtualScreen([{
            groupIndex: 0,
            left: 400,
            top: 450,
            width: 200,
            height: 200
        }, {
            groupIndex: 0,
            left: 400,
            top: 950,
            width: 200,
            height: 200
        }, {
            groupIndex: 0,
            left: 900,
            top: 450,
            width: 200,
            height: 200
        }, {
            groupIndex: 0,
            left: 900,
            top: 950,
            width: 200,
            height: 200
        }], options)).toEqual([{
            groupIndex: 0,
            left: 500,
            top: 500,
            width: 100,
            height: 150
        }, {
            groupIndex: 0,
            left: 500,
            top: 950,
            width: 100,
            height: 50
        }, {
            groupIndex: 0,
            left: 900,
            top: 500,
            width: 100,
            height: 150
        }, {
            groupIndex: 0,
            left: 900,
            top: 950,
            width: 100,
            height: 50
        }])
    }));
    it("should not crop items inside of the bounds", (() => {
        const entities = [{
            groupIndex: 0,
            left: 500,
            top: 600,
            width: 200,
            height: 200
        }, {
            groupIndex: 0,
            left: 700,
            top: 800,
            width: 200,
            height: 200
        }];
        expect(cropByVirtualScreen(entities, options)).toEqual(entities)
    }))
}));
