/**
 * DevExtreme (esm/__internal/integration/jquery/deferred.js)
 * Version: 25.2.3
 * Build date: Fri Dec 12 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/
 */
import {
    setStrategy
} from "../../core/utils/m_deferred";
import {
    compare as compareVersion
} from "../../core/utils/m_version";
import jQuery from "jquery";
import useJQueryFn from "./use_jquery";
const useJQuery = useJQueryFn();
if (useJQuery) {
    const {
        Deferred: Deferred
    } = jQuery;
    const strategy = {
        Deferred: Deferred
    };
    strategy.when = compareVersion(jQuery.fn.jquery, [3]) < 0 ? jQuery.when : function(singleArg) {
        if (0 === arguments.length) {
            return (new Deferred).resolve()
        }
        if (1 === arguments.length) {
            return null !== singleArg && void 0 !== singleArg && singleArg.then ? singleArg : (new Deferred).resolve(singleArg)
        }
        return jQuery.when.apply(jQuery, arguments)
    };
    setStrategy(strategy)
}
